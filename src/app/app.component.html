

<div *ngIf="identity" class ="navigation col-lg-1"> <!--ngIf condicional de angular. identity esta definido en app.component.ts. Esto quiere decir que si existe identity y tiene algo dentro (esta true) que muestre este div -->
<h1>
  {{title}}  <!--musify-->
</h1>
  <nav id="navigation">
    <a href="#">
      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>  <!--Esto es de bootstrap-->
      Buscar <!-- esto a nivel de api no esta hecho-->
    </a>
    <a href="#">
      <span class="glyphicon glyphicon-star" aria-hidden="true"></span>  <!--Esto es de bootstrap-->
      Artistas
    </a>
    <a href="#">
      <span class="glyphicon glyphicon-book" aria-hidden="true"></span>  <!--Esto es de bootstrap-->
      Albums
    </a>
  </nav>

  <nav id="user_logged">
  <span id="identity_name">
    {{identity.name}}
  </span>
    <span class="btn btn-warning" (click)="logout()">
    Cerrar sesi칩n
  </span>

    <a [routerLink]="['/mis-datos/']">  <!--al hacer click en este elemento va a la ruta en el url-->
      <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>  <!--Esto es de bootstrap-->
      Mis datos
    </a>




  </nav>

</div>



<div class="clearfix"></div>

<div *ngIf="identity" class="central col-lg-11">
  <p>Estas logeado en la aplicacion</p>

  <router-outlet></router-outlet> <!--Aca se cargan los componentes asociados a cada ruta-->
  <user-edit></user-edit>
</div>

<div class="col-lg-12" *ngIf="!identity">
  <div class="col-lg-6">
    <h1>Identificate</h1>
    <div *ngIf="errorMessage">  <!--En metodo onsubmit de app.component.ts-->
      <div class="alert alert-info">
        <strong>Error</strong> {{errorMessage}}
      </div>
    </div>
 <form #loginForm="ngForm" (ngSubmit)="onSubmit()"  class="=col-md-10"> <!--   #loginForm="ngForm" con esto indicamos q es un formulario de angular-->
      <p>
        <label>Correo electronico</label>
        <input type="email" #email="ngModel" name="email" [(ngModel)]="user.email"   class="form-control" required /><!--con esto estamos pasando la propiedad email del user, es decir estamos "instanciando" la propiedad email en
        this.user = new User('','','','','ROLE_USER','');-->

        <span *ngIf="!email.valid && email.touched"> <!--si el email no es valido..-->
          El email es obligatorio!
        </span>
      </p>

      <p>
        <label>Contrase침a</label>
        <input type="password" #password="ngModel" name="password" [(ngModel)]="user.password" class="form-control" required /> <!--con esto estamos pasando la propiedad password del user, es decir estamos "instanciando" la propiedad email en
        this.user = new User('','','','','ROLE_USER','');-->
      </p>

      <input type="submit" value="entrar" class="btn-btn-primary">

    </form>
  </div>


<br>
<!--FORMULARIO DE REGISTRO-->
  <div class="col-lg-6">
    <h1>Registrate</h1>
    <div *ngIf="alertRegister">  <!--En metodo onsubmit de app.component.ts-->
      <div class="alert alert-info">
        {{alertRegister}}
      </div>
    </div>
    <form #registerForm="ngForm"  (ngSubmit)="onSubmitRegister()" class="col-md-10">
      <p>
        <label>Nombre:</label>
        <input type="text" #name="ngModel" name="name"  [(ngModel)]="user_register.name" class="form-control" required />
        <span *ngIf="!name.valid && name.touched">
          El nombre es obligatorio!
        </span>
      </p>

      <p>
        <label>Apellidos:</label>
        <input type="text" #surname="ngModel" name="surname"  [(ngModel)]="user_register.surname" class="form-control" required />
        <span *ngIf="!surname.valid && surname.touched">
          El apellido es obligatorio!
        </span>
      </p>

      <p>

      <p>
        <label>Correo electronico:</label>
        <input type="email" #email="ngModel" name="email" [(ngModel)]="user_register.email"   class="form-control" required />
        <span *ngIf="!email.valid && email.touched">
          El email es obligatorio!
        </span>
      </p>

      <p>
        <label>Contrase침a:</label>
        <input type="password" #password="ngModel" name="password" [(ngModel)]="user_register.password" class="form-control" required />
        <span *ngIf="!password.valid &&password.touched">
          La contrase침a es obligatoria!
        </span>


      </p>


      <input type="submit" value="registrar" class="btn-btn-primary">

    </form>

  </div>


</div>
